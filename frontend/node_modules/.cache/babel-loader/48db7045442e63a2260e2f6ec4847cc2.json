{"ast":null,"code":"import axios from \"axios\";\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\n  dispatch({\n    type: \"PLACE_ORDER_REQUEST\"\n  });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n\n  try {\n    await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subTotal,\n      currentUser,\n      cartItems\n    });\n    dispatch({\n      type: \"PLACE_ORDER_SUCCESS\"\n    }); // console.log(res);\n  } catch (error) {\n    dispatch({\n      type: \"PLACE_ORDER_FAIL\"\n    });\n    console.log(error);\n  }\n};\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"USER_ORDER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/orders/getuserorder\", {\n      userid: currentUser._id\n    }); // console.log(response);\n\n    dispatch({\n      type: \"USER_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"USER_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"ALL_ORDER_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"ALL_ORDER_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};\nexport const deliverOrder = orderid => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALL_ORDER_REQUEST\"\n  });\n\n  try {\n    await axios.post(\"/api/orders/deliverorder\", {\n      orderid\n    });\n    alert(\"Deliverd Success\");\n    const orders = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({\n      type: \"GET_ALL_ORDER_SUCCESS\",\n      payload: orders.data\n    });\n    window.location.href = \"/admin/orderlist\";\n  } catch (error) {\n    dispatch({\n      type: \"GET_ALL_ORDER_FAIL\",\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["axios","placeOrder","token","subTotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","post","error","console","log","getUserOrders","response","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders","window","location","href"],"sources":["F:/Projects/PizzaOderingWesbiteUsingMernStack/frontend/src/actions/orderAction.js"],"sourcesContent":["import axios from \"axios\";\n\nexport const placeOrder = (token, subTotal) => async (dispatch, getState) => {\n  dispatch({ type: \"PLACE_ORDER_REQUEST\" });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n  try {\n    await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subTotal,\n      currentUser,\n      cartItems,\n    });\n    dispatch({ type: \"PLACE_ORDER_SUCCESS\" });\n    // console.log(res);\n  } catch (error) {\n    dispatch({ type: \"PLACE_ORDER_FAIL\" });\n    console.log(error);\n  }\n};\n\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"USER_ORDER_REQUEST\",\n  });\n  try {\n    const response = await axios.post(\"/api/orders/getuserorder\", {\n      userid: currentUser._id,\n    });\n    // console.log(response);\n    dispatch({ type: \"USER_ORDER_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"USER_ORDER_FAIL\", payload: error });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"ALL_ORDER_REQUEST\",\n  });\n  try {\n    const response = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({ type: \"ALL_ORDER_SUCCESS\", payload: response.data });\n  } catch (error) {\n    dispatch({ type: \"ALL_ORDER_FAIL\", payload: error });\n  }\n};\n\nexport const deliverOrder = (orderid) => async (dispatch, getState) => {\n  // const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALL_ORDER_REQUEST\",\n  });\n  try {\n    await axios.post(\"/api/orders/deliverorder\", { orderid });\n    alert(\"Deliverd Success\");\n    const orders = await axios.get(\"/api/orders/alluserorder\");\n    dispatch({ type: \"GET_ALL_ORDER_SUCCESS\", payload: orders.data });\n    window.location.href = \"/admin/orderlist\";\n  } catch (error) {\n    dispatch({ type: \"GET_ALL_ORDER_FAIL\", payload: error });\n  }\n};\n"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAO,MAAMC,UAAU,GAAG,CAACC,KAAD,EAAQC,QAAR,KAAqB,OAAOC,QAAP,EAAiBC,QAAjB,KAA8B;EAC3ED,QAAQ,CAAC;IAAEE,IAAI,EAAE;EAAR,CAAD,CAAR;EACA,MAAMC,WAAW,GAAGF,QAAQ,GAAGG,gBAAX,CAA4BD,WAAhD;EACA,MAAME,SAAS,GAAGJ,QAAQ,GAAGK,WAAX,CAAuBD,SAAzC;;EACA,IAAI;IACF,MAAMT,KAAK,CAACW,IAAN,CAAW,wBAAX,EAAqC;MACzCT,KADyC;MAEzCC,QAFyC;MAGzCI,WAHyC;MAIzCE;IAJyC,CAArC,CAAN;IAMAL,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAR,CAAD,CAAR,CAPE,CAQF;EACD,CATD,CASE,OAAOM,KAAP,EAAc;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE;IAAR,CAAD,CAAR;IACAO,OAAO,CAACC,GAAR,CAAYF,KAAZ;EACD;AACF,CAjBM;AAmBP,OAAO,MAAMG,aAAa,GAAG,MAAM,OAAOX,QAAP,EAAiBC,QAAjB,KAA8B;EAC/D,MAAME,WAAW,GAAGF,QAAQ,GAAGG,gBAAX,CAA4BD,WAAhD;EACAH,QAAQ,CAAC;IACPE,IAAI,EAAE;EADC,CAAD,CAAR;;EAGA,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMhB,KAAK,CAACW,IAAN,CAAW,0BAAX,EAAuC;MAC5DM,MAAM,EAAEV,WAAW,CAACW;IADwC,CAAvC,CAAvB,CADE,CAIF;;IACAd,QAAQ,CAAC;MAAEE,IAAI,EAAE,oBAAR;MAA8Ba,OAAO,EAAEH,QAAQ,CAACI;IAAhD,CAAD,CAAR;EACD,CAND,CAME,OAAOR,KAAP,EAAc;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,iBAAR;MAA2Ba,OAAO,EAAEP;IAApC,CAAD,CAAR;EACD;AACF,CAdM;AAeP,OAAO,MAAMS,YAAY,GAAG,MAAM,OAAOjB,QAAP,EAAiBC,QAAjB,KAA8B;EAC9D;EACAD,QAAQ,CAAC;IACPE,IAAI,EAAE;EADC,CAAD,CAAR;;EAGA,IAAI;IACF,MAAMU,QAAQ,GAAG,MAAMhB,KAAK,CAACsB,GAAN,CAAU,0BAAV,CAAvB;IACAlB,QAAQ,CAAC;MAAEE,IAAI,EAAE,mBAAR;MAA6Ba,OAAO,EAAEH,QAAQ,CAACI;IAA/C,CAAD,CAAR;EACD,CAHD,CAGE,OAAOR,KAAP,EAAc;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,gBAAR;MAA0Ba,OAAO,EAAEP;IAAnC,CAAD,CAAR;EACD;AACF,CAXM;AAaP,OAAO,MAAMW,YAAY,GAAIC,OAAD,IAAa,OAAOpB,QAAP,EAAiBC,QAAjB,KAA8B;EACrE;EACAD,QAAQ,CAAC;IACPE,IAAI,EAAE;EADC,CAAD,CAAR;;EAGA,IAAI;IACF,MAAMN,KAAK,CAACW,IAAN,CAAW,0BAAX,EAAuC;MAAEa;IAAF,CAAvC,CAAN;IACAC,KAAK,CAAC,kBAAD,CAAL;IACA,MAAMC,MAAM,GAAG,MAAM1B,KAAK,CAACsB,GAAN,CAAU,0BAAV,CAArB;IACAlB,QAAQ,CAAC;MAAEE,IAAI,EAAE,uBAAR;MAAiCa,OAAO,EAAEO,MAAM,CAACN;IAAjD,CAAD,CAAR;IACAO,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,kBAAvB;EACD,CAND,CAME,OAAOjB,KAAP,EAAc;IACdR,QAAQ,CAAC;MAAEE,IAAI,EAAE,oBAAR;MAA8Ba,OAAO,EAAEP;IAAvC,CAAD,CAAR;EACD;AACF,CAdM"},"metadata":{},"sourceType":"module"}