{"ast":null,"code":"import axios from \"axios\";\nimport swal from \"sweetalert\";\nexport const getAllPizzas = () => async dispatch => {\n  dispatch({\n    type: \"GET_PIZZAS_REQUEST\"\n  });\n\n  try {\n    const response = await axios.get(\"/api/pizzas/getAllPizzas\"); // console.log(response.data);\n\n    dispatch({\n      type: \"GET_PIZZAS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (err) {\n    dispatch({\n      type: \"GET_PIZZAS_FAIL\",\n      payload: err\n    });\n  }\n};\nexport const addPizza = pizza => async dispatch => {\n  dispatch({\n    type: \"ADD_PIZZAS_REQUEST\"\n  });\n\n  try {\n    await axios.post(\"/api/pizzas/addpizza\", {\n      pizza\n    });\n    dispatch({\n      type: \"ADD_PIZZAS_SUCCESS\"\n    });\n  } catch (err) {\n    dispatch({\n      type: \"ADD_PIZZAS_FAIL\",\n      payload: err\n    });\n  }\n};\nexport const getPizzaById = pizzaId => async dispatch => {\n  dispatch({\n    type: \"GET_PIZZABYID_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/pizzas/getpizzabyid\", {\n      pizzaId\n    });\n    dispatch({\n      type: \"GET_PIZZABYID_SUCCESS\",\n      payload: response.data\n    });\n  } catch (err) {\n    dispatch({\n      type: \"GET_PIZZABYID_FAIL\",\n      payload: err\n    });\n  }\n};\nexport const updatePizza = updatedPizza => async dispatch => {\n  dispatch({\n    type: \"UPDATE_PIZZABYID_REQUEST\"\n  });\n\n  try {\n    const response = await axios.post(\"/api/pizzas/updatepizza\", {\n      updatedPizza\n    });\n    dispatch({\n      type: \"UPDATE_PIZZABYID_SUCCESS\",\n      payload: response.data\n    });\n    window.location.href = \"/admin/pizzalist\";\n  } catch (err) {\n    dispatch({\n      type: \"UPDATE_PIZZABYID_FAIL\",\n      payload: err\n    });\n  }\n};\nexport const deletePizza = pizzaId => async dispatch => {\n  try {\n    await axios.post(\"/api/pizzas/deletepizza\", {\n      pizzaId\n    });\n    swal(\"Pizza Deleted Succss!\", \"success\");\n    window.location.href = \"/admin/pizzalist\"; // console.log(res);\n  } catch (error) {\n    swal(\"Errro While Deleteing Pizza\");\n  }\n};\nexport const filterPizza = (searchkey, category) => async dispatch => {\n  let filterdPizza;\n  dispatch({\n    type: \"GET_PIZZAS_REQUEST\"\n  });\n\n  try {\n    const res = await axios.get(\"/api/pizzas/getAllPizzas\");\n    filterdPizza = res.data.filter(pizza => pizza.name.toLowerCase().includes(searchkey));\n\n    if (category !== \"all\") {\n      filterdPizza = res.data.filter(pizza => pizza.category.toLowerCase() === category);\n    }\n\n    dispatch({\n      type: \"GET_PIZZAS_SUCCESS\",\n      payload: filterdPizza\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_PIZZAS_FAIL\",\n      payload: error\n    });\n  }\n};","map":{"version":3,"names":["axios","swal","getAllPizzas","dispatch","type","response","get","payload","data","err","addPizza","pizza","post","getPizzaById","pizzaId","updatePizza","updatedPizza","window","location","href","deletePizza","error","filterPizza","searchkey","category","filterdPizza","res","filter","name","toLowerCase","includes"],"sources":["F:/PizzaOderingWebsiteUsingMERNstack/frontend/src/actions/pizzaAction.js"],"sourcesContent":["import axios from \"axios\";\nimport swal from \"sweetalert\";\nexport const getAllPizzas = () => async (dispatch) => {\n  dispatch({ type: \"GET_PIZZAS_REQUEST\" });\n  try {\n    const response = await axios.get(\"/api/pizzas/getAllPizzas\");\n    // console.log(response.data);\n    dispatch({ type: \"GET_PIZZAS_SUCCESS\", payload: response.data });\n  } catch (err) {\n    dispatch({ type: \"GET_PIZZAS_FAIL\", payload: err });\n  }\n};\n\nexport const addPizza = (pizza) => async (dispatch) => {\n  dispatch({ type: \"ADD_PIZZAS_REQUEST\" });\n  try {\n    await axios.post(\"/api/pizzas/addpizza\", { pizza });\n    dispatch({ type: \"ADD_PIZZAS_SUCCESS\" });\n  } catch (err) {\n    dispatch({ type: \"ADD_PIZZAS_FAIL\", payload: err });\n  }\n};\n\nexport const getPizzaById = (pizzaId) => async (dispatch) => {\n  dispatch({ type: \"GET_PIZZABYID_REQUEST\" });\n  try {\n    const response = await axios.post(\"/api/pizzas/getpizzabyid\", { pizzaId });\n    dispatch({ type: \"GET_PIZZABYID_SUCCESS\", payload: response.data });\n  } catch (err) {\n    dispatch({ type: \"GET_PIZZABYID_FAIL\", payload: err });\n  }\n};\nexport const updatePizza = (updatedPizza) => async (dispatch) => {\n  dispatch({ type: \"UPDATE_PIZZABYID_REQUEST\" });\n  try {\n    const response = await axios.post(\"/api/pizzas/updatepizza\", {\n      updatedPizza,\n    });\n    dispatch({ type: \"UPDATE_PIZZABYID_SUCCESS\", payload: response.data });\n    window.location.href = \"/admin/pizzalist\";\n  } catch (err) {\n    dispatch({ type: \"UPDATE_PIZZABYID_FAIL\", payload: err });\n  }\n};\n\nexport const deletePizza = (pizzaId) => async (dispatch) => {\n  try {\n    await axios.post(\"/api/pizzas/deletepizza\", { pizzaId });\n    swal(\"Pizza Deleted Succss!\", \"success\");\n    window.location.href = \"/admin/pizzalist\";\n    // console.log(res);\n  } catch (error) {\n    swal(\"Errro While Deleteing Pizza\");\n  }\n};\n\nexport const filterPizza = (searchkey, category) => async (dispatch) => {\n  let filterdPizza;\n  dispatch({ type: \"GET_PIZZAS_REQUEST\" });\n  try {\n    const res = await axios.get(\"/api/pizzas/getAllPizzas\");\n    filterdPizza = res.data.filter((pizza) =>\n      pizza.name.toLowerCase().includes(searchkey)\n    );\n \n    if (category !== \"all\" ) {\n      filterdPizza = res.data.filter(\n        (pizza) => pizza.category.toLowerCase() === category\n      );\n    }\n    dispatch({ type: \"GET_PIZZAS_SUCCESS\", payload: filterdPizza });\n  } catch (error) {\n    dispatch({ type: \"GET_PIZZAS_FAIL\", payload: error });\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}